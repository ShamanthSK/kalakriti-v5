{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../contexts/AuthContext';import{X,Plus}from'lucide-react';import{doc,updateDoc,arrayUnion}from'firebase/firestore';import{db}from'../firebase/config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddTalentModal=_ref=>{let{onClose,onSuccess}=_ref;const{currentUser,refreshUserData}=useAuth();const[formData,setFormData]=useState({skill:'',category:'Visual Arts',level:'Intermediate'});const[isLoading,setIsLoading]=useState(false);const categories=['Visual Arts','Music','Writing','Photography','Dance','Film','Design','Crafts','Technology','Other'];const levels=['Beginner','Intermediate','Advanced','Professional'];const handleSubmit=async e=>{e.preventDefault();if(!currentUser)return;setIsLoading(true);try{const talentData={skill:formData.skill,category:formData.category,level:formData.level};const userRef=doc(db,'users',currentUser.id);await updateDoc(userRef,{talents:arrayUnion(talentData)});// Refresh user data to show the new talent\nawait refreshUserData();onSuccess&&onSuccess();onClose();}catch(error){console.error('Error adding talent:',error);alert('Error adding talent. Please try again.');}finally{setIsLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};if(!currentUser){return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl p-8 max-w-md w-full mx-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Please log in to add talents\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors\",children:\"Close\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-8 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"\\uD83C\\uDFAF Add Your Talent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Skill/Talent *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill\",value:formData.skill,onChange:handleChange,required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\",placeholder:\"e.g., Digital Painting, Guitar, Creative Writing\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",value:formData.category,onChange:handleChange,required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Skill Level *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"level\",value:formData.level,onChange:handleChange,required:true,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\",children:levels.map(level=>/*#__PURE__*/_jsx(\"option\",{value:level,children:level},level))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-purple-800 mb-2\",children:\"\\uD83D\\uDCA1 Tips for adding talents:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-purple-700 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Be specific about your skills\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Include both technical and creative abilities\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Honest skill levels help with better matching\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 You can add multiple talents\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Adding...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Talent\"]})})]})]})]})});};export default AddTalentModal;","map":{"version":3,"names":["React","useState","useAuth","X","Plus","doc","updateDoc","arrayUnion","db","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddTalentModal","_ref","onClose","onSuccess","currentUser","refreshUserData","formData","setFormData","skill","category","level","isLoading","setIsLoading","categories","levels","handleSubmit","e","preventDefault","talentData","userRef","id","talents","error","console","alert","handleChange","name","value","target","prev","className","children","onClick","onSubmit","type","onChange","required","placeholder","map","disabled"],"sources":["D:/c project/kalakriti2.0/src/components/AddTalentModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { X, Plus } from 'lucide-react';\nimport { doc, updateDoc, arrayUnion } from 'firebase/firestore';\nimport { db } from '../firebase/config';\n\nconst AddTalentModal = ({ onClose, onSuccess }) => {\n  const { currentUser, refreshUserData } = useAuth();\n  const [formData, setFormData] = useState({\n    skill: '',\n    category: 'Visual Arts',\n    level: 'Intermediate'\n  });\n  const [isLoading, setIsLoading] = useState(false);\n\n  const categories = [\n    'Visual Arts',\n    'Music',\n    'Writing',\n    'Photography',\n    'Dance',\n    'Film',\n    'Design',\n    'Crafts',\n    'Technology',\n    'Other'\n  ];\n\n  const levels = [\n    'Beginner',\n    'Intermediate',\n    'Advanced',\n    'Professional'\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!currentUser) return;\n\n    setIsLoading(true);\n    try {\n      const talentData = {\n        skill: formData.skill,\n        category: formData.category,\n        level: formData.level\n      };\n\n      const userRef = doc(db, 'users', currentUser.id);\n      await updateDoc(userRef, {\n        talents: arrayUnion(talentData)\n      });\n\n      // Refresh user data to show the new talent\n      await refreshUserData();\n      \n      onSuccess && onSuccess();\n      onClose();\n    } catch (error) {\n      console.error('Error adding talent:', error);\n      alert('Error adding talent. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  if (!currentUser) {\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-xl p-8 max-w-md w-full mx-4\">\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-4\">ðŸ”’</div>\n            <p className=\"text-gray-500 mb-4\">Please log in to add talents</p>\n            <button \n              onClick={onClose}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-xl p-8 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">ðŸŽ¯ Add Your Talent</h2>\n          <button \n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Skill/Talent *\n            </label>\n            <input\n              type=\"text\"\n              name=\"skill\"\n              value={formData.skill}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              placeholder=\"e.g., Digital Painting, Guitar, Creative Writing\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Category *\n            </label>\n            <select\n              name=\"category\"\n              value={formData.category}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              {categories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Skill Level *\n            </label>\n            <select\n              name=\"level\"\n              value={formData.level}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              {levels.map(level => (\n                <option key={level} value={level}>{level}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"bg-purple-50 p-4 rounded-lg\">\n            <h3 className=\"font-medium text-purple-800 mb-2\">ðŸ’¡ Tips for adding talents:</h3>\n            <ul className=\"text-sm text-purple-700 space-y-1\">\n              <li>â€¢ Be specific about your skills</li>\n              <li>â€¢ Include both technical and creative abilities</li>\n              <li>â€¢ Honest skill levels help with better matching</li>\n              <li>â€¢ You can add multiple talents</li>\n            </ul>\n          </div>\n\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center\"\n            >\n              {isLoading ? (\n                <>\n                  <div className=\"spinner mr-2\"></div>\n                  Adding...\n                </>\n              ) : (\n                <>\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Add Talent\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddTalentModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}